<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Death Timer ‚ö°</title>
<link href="https://fonts.googleapis.com/css2?family=Creepster&family=Poppins:wght@400;600&display=swap" rel="stylesheet">
<style>
html, body { max-width: 100vw; overflow-x: hidden; }
body {
  font-family: "Poppins",sans-serif;
  background:radial-gradient(circle,#111,#000);
  color: #fff;
  margin: 0;
  min-height: 100vh;
}
.main-title {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  text-align: center;
  margin-bottom: 20px;
  color: #ff0057;
  text-shadow: 0 0 16px #ff0057;
}

#splash h1, .splash-creepy {
  margin-bottom: 10px;
}
#splash {
  position:fixed; top:0; left:0; width:100vw; height:100vh;
  background:#000;
  display:flex; align-items:center; justify-content:center; flex-direction:column;
  z-index:9999;
  padding:0 6vw;
  box-sizing:border-box;
  opacity: 1;
  transition:opacity 1.05s cubic-bezier(.85,-0.01,.19,1.01);
}
.splash-creepy {
  font-family: 'Creepster', cursive;
  color: #ff0057;
  text-shadow: 0 0 22px #ff0057, 0 0 4px #000;
  font-size: 2.3em;
  letter-spacing: 3px;
  opacity: 0;
  animation: fadeCreepyIn 2.1s cubic-bezier(.42,0,.21,1.03) forwards;
}
@keyframes fadeCreepyIn {
  0%   { opacity: 0; transform: scale(0.92);}
  70%  { opacity: 0.8; transform: scale(1.08);}
  100% { opacity: 1; transform: scale(1);}
}
#splashCredit {
  position: absolute;
  bottom: 20px;
  left: 50%;
  transform: translateX(-50%);
  color: #ffbb00;
  font-family: 'Poppins', sans-serif;
  font-weight: 600;
  font-size: 0.9rem;
  user-select: none;
  pointer-events: none;
  text-shadow: 0 0 10px #ffbb00;
  z-index: 10000;
}

#calcLoader {
  position:fixed; top:0; left:0; width:100vw; height:100vh;
  background:rgba(17,17,17,0.98);
  z-index:8000; display:none;
  align-items:center; justify-content:center; flex-direction:column;
  font-size:1.25rem; text-align:center;
}
.loadingbar-container {
  margin:32px 0 12px 0;
  width:220px; max-width:70vw;
  height:17px;
  background:#222;
  border-radius:9px;
  overflow:hidden;
  border:1px solid #5a5a5a;
  box-shadow: 0 1px 7px #2222;
}
.loadingbar-fill {
  height:100%; width:0;
  background:linear-gradient(90deg,#ff0057 40%,#ffbb00 100%);
  border-radius:8px;
  transition: width 0.2s;
}
.calcText {
  color:#ffbb00; letter-spacing:.03em; font-weight:600;
  margin-top:.65em;margin-bottom:.31em;font-size:1.07em;
}
.loader {
  margin-top:20px; width:55px;height:55px;
  border:6px solid rgba(255,255,255,0.13);
  border-top-color:#ff0057;
  border-radius:50%;
  animation:spin 1s linear infinite;
}
@keyframes spin{to{transform:rotate(360deg);}}

.container{
  width:97vw; max-width:420px; margin:40px auto;
  padding:30px 4vw 30px 4vw;
  border-radius:16px;
  background:rgba(40,40,40,0.88);
  backdrop-filter:blur(10px);
  border:1px solid rgba(255,255,255,0.1);
  box-shadow:0 0 28px rgba(255,0,87,.21);
  animation:fadeInMain 1s ease forwards;
  box-sizing:border-box; overflow:hidden;
}
@keyframes fadeInMain{from{opacity:0;}to{opacity:1;}}

label{display:block;margin-top:14px;color:#ddd;}
input,select{
  width:100%;padding:10px;border-radius:8px;border:none;
  background:rgba(255,255,255,0.1);color:#fff;
  margin-top:5px; box-sizing:border-box;
}
input:focus,select:focus{box-shadow:0 0 8px #ff0057;outline:none;}

.addiction-grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(135px,1fr));
  gap:13px; margin-top:20px;
}
.card{
  border-radius:14px;padding:16px 7px;text-align:center;
  background:rgba(255,255,255,0.055);
  border:2px solid transparent;
  transition:.28s cubic-bezier(.56,.1,.51,1.22);
  cursor:pointer;user-select:none;box-sizing:border-box;max-width:100%;
}
.card:hover{
  box-shadow:0 0 9px #ff0057;
  transform:translateY(-2px) scale(1.036);
}
.card.active{
  border-color:#ff0057;
  background:rgba(255,0,87,.13);
  box-shadow:0 0 16px #ff0057;
}
button{
  width:100%;padding:12px;
  background:linear-gradient(90deg,#ff0057,#ffbb00);
  border:none;border-radius:10px;color:#fff;font-weight:600;
  margin-top:21px;cursor:pointer;font-size:1rem;transition:.18s;
  box-sizing:border-box;
}
button:hover{transform:scale(1.045);box-shadow:0 0 13px #ffbb00;}

#result{
  text-align:center;display:none;
  overflow-wrap:break-word; word-break:break-word; white-space:normal;max-width:100%;
}
#result h2,#result p{
  word-break:break-word;overflow-wrap:break-word;white-space:normal;
  max-width:100%;margin:0 auto 10px auto;text-align:center;
}
#tipText {
  margin-top: 15px;
  color: #ffbb00;
  font-size: 1em;
}
.disclaimer{
  font-size:13px;color:#aaa;margin-top:14px;
  overflow-wrap:break-word;word-break:break-word;white-space:normal;
}
@media (max-width:555px){
  .container{ padding:17px 3vw 20px 3vw; max-width:98vw; }
  .main-title { font-size: 1.17em; }
  .splash-creepy { font-size: 1.3em; }
}
</style>
</head>
<body>
<div id="splash">
  <h1 class="splash-creepy">Welcome to Death Timer </h1>
  <div id="splashCredit">Created by boombama</div>
</div>

<div id="calcLoader">
  <div class="loadingbar-container">
    <div class="loadingbar-fill" id="loadingBar"></div>
  </div>
  <div class="calcText">Calculating your fate...</div>
</div>

<div class="container" id="mainContainer" style="display:none;">
  <h1 class="main-title"><span style="font-size:1.27em">‚ò†Ô∏è</span> Death Timer  <span style="font-size:1.27em">‚ò†Ô∏è</span></h1>
  <div id="inputArea">
    <label>Name</label>
    <input type="text" id="name" autocomplete="off">
    <label>Date‚ÄØof‚ÄØBirth</label>
    <input type="date" id="dob">
    <label>Gender</label>
    <select id="gender">
      <option value="male">Male</option>
      <option value="female">Female</option>
    </select>
    <h3 style="color:#ffbb00;text-align:center; margin-bottom:10px;">Select‚ÄØYour‚ÄØAddition‚ÄØüî•</h3>
    <div class="addiction-grid" id="addictionGrid"></div>
    <button onclick="calculate()">Calculate üöÄ</button>
  </div>
  <div id="result">
    <h2>‚è≥‚ÄØDeath Date Result</h2>
    <p id="outputText"></p>
    <button onclick="retry()">Try‚ÄØAgain‚ÄØüîÅ</button>
    <p class="disclaimer">üí¨‚ÄØFor awareness only‚ÄØ‚Äî‚ÄØstay‚ÄØbalanced‚ÄØüå±</p>
    <p id="tipText"></p>
  </div>
</div>

<script>
const tips = [
  "Drink more water for a healthy body.",
  "Take a short walk every hour.",
  "Good sleep is the best recharge.",
  "Add more fruits to your daily meals.",
  "Avoid screen time before bed.",
  "Laugh often‚Äîit‚Äôs truly good for you.",
  "Connect with friends and family regularly.",
  "Limit junk food for long-term benefits.",
  "Read a page a day to grow your mind.",
  "Practice gratitude each morning.",
  "Avoid comparing yourself to others.",
  "Remember, balance is key in life!"
];

// Show splash for 2s, then fade to main
window.addEventListener("load",()=>{
  setTimeout(function(){
    document.getElementById("splash").style.opacity = "0";
    setTimeout(function(){
      document.getElementById("splash").style.display = "none";
      document.getElementById("mainContainer").style.display = "block";
    }, 1050);
  }, 2000); // Splash shows for ~2s with no buffer/loader
});

const addictions=[
  {name:"Tobacco",emoji:"üö¨",loss:{light:3,moderate:7,heavy:12}},
  {name:"Alcohol",emoji:"üç∫",loss:{light:2,moderate:7,heavy:15}},
  {name:"Cannabis",emoji:"üåø",loss:{light:1,moderate:4,heavy:8}},
  {name:"Synthetic Drugs",emoji:"ü•¥",loss:{light:6,moderate:12,heavy:25}},
  {name:"Social Media",emoji:"üì±",loss:{moderate:1,heavy:3}},
  {name:"Gaming",emoji:"üéÆ",loss:{moderate:1,heavy:4}},
  {name:"Gambling",emoji:"üé≤",loss:{moderate:2,heavy:6}},
  {name:"Porn",emoji:"üîû",loss:{moderate:1,heavy:3}},
  {name:"Caffeine",emoji:"‚òï",loss:{moderate:0.5,heavy:2}},
  {name:"Masturbation",emoji:"üí¶",loss:{light:0,moderate:0,heavy:0}},
  {name:"Exercise",emoji:"üèÉ‚Äç‚ôÇÔ∏è",loss:{light:-2,moderate:-4,heavy:-6}}, 
  {name:"Good Sleep",emoji:"üõå",loss:{light:-1,moderate:-3,heavy:-5}}
];

window.onload = () => {
  const grid = document.getElementById("addictionGrid");
  grid.innerHTML = "";
  addictions.forEach((item,i)=>{
    const card=document.createElement("div");
    card.className="card";
    card.innerHTML=`<div style="font-size:28px;">${item.emoji}</div><p style="margin:8px 0 0 0;font-size:1em;overflow-wrap:break-word;">${item.name}</p>`;
    card.dataset.index=i;
    card.addEventListener('click',()=>card.classList.toggle('active'));
    grid.appendChild(card);
  });
};

function calculate(){
  const name=document.getElementById('name').value.trim();
  const dob=new Date(document.getElementById('dob').value);
  const gender=document.getElementById('gender').value;
  if(!name||!dob){alert("Please‚ÄØfill‚ÄØall‚ÄØdetails.");return;}
  document.getElementById("inputArea").style.display="none";
  // Loading overlay logic
  showCalcLoader();
}

function showCalcLoader() {
  const loader = document.getElementById("calcLoader");
  const bar = document.getElementById("loadingBar");
  let duration = 3700;
  let start = performance.now();
  loader.style.display = "flex";
  bar.style.width = "0";
  function animateBar(now){
    let elapsed = now - start;
    let percent = Math.min(100, (elapsed/duration)*100);
    bar.style.width = percent + "%";
    if(percent < 100){
      requestAnimationFrame(animateBar);
    }else{
      loader.style.display = "none";
      // get form values
      const name=document.getElementById('name').value.trim();
      const dob=new Date(document.getElementById('dob').value);
      const gender=document.getElementById('gender').value;
      showGenZResult(name,dob,gender);
    }
  }
  requestAnimationFrame(animateBar);
}

function showGenZResult(name, dob, gender){
  const now = new Date();
  const age = (now - dob) / (1000 * 3600 * 24 * 365.25);
  const base = gender === "male" ? 70.8 : 75.8;
  let totalLoss = 0, active = 0;
  document.querySelectorAll('.card.active').forEach(card => {
    active++;
    const a = addictions[card.dataset.index];
    const keys = Object.keys(a.loss);
    const random = keys[Math.floor(Math.random() * keys.length)];
    totalLoss += a.loss[random];
  });
  if (active > 1) totalLoss *= (1 + Math.min(0.2 * (active - 1), 0.8));
  // Add random variation: (-5) to (+5) years for more realistic and "fun" outcomes
  const randomVariation = (Math.random() - 0.5) * 10;
  const yearsLeft = base - age - totalLoss + randomVariation;

  let deathDate;
  if (yearsLeft > 0) {
    // Add yearsLeft in ms to DOB (fixes same-day bug!)
    deathDate = new Date(dob.getTime() + yearsLeft * 365.25 * 24 * 60 * 60 * 1000);
    const options = { year: "numeric", month: "long", day: "numeric" };
    document.getElementById("result").style.display = "block";
    document.getElementById("outputText").innerHTML =
      `${name},<br>you are predicted to die on <b>${deathDate.toLocaleDateString(undefined, options)}</b>.`;
  } else {
    document.getElementById("result").style.display = "block";
    document.getElementById("outputText").innerHTML =
      `${name},<br>your predicted time has already expired ‚ò†Ô∏è`;
  }
  // Show a random tip!
  const randomTip = tips[Math.floor(Math.random() * tips.length)];
  document.getElementById("tipText").innerText = "Tip: " + randomTip;
}

function retry(){
  document.getElementById("inputArea").style.display = "block";
  document.getElementById("result").style.display = "none";
  document.querySelectorAll(".card").forEach(c => c.classList.remove("active"));
  document.getElementById("name").value = "";
  document.getElementById("dob").value = "";
  document.getElementById("tipText").innerText = "";
}
</script>
</body>
</html>